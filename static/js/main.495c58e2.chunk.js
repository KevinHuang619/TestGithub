(window.webpackJsonpjsx=window.webpackJsonpjsx||[]).push([[0],{32:function(e,t,a){e.exports=a(67)},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var l=a(1),n=a.n(l),i=a(9),r=a.n(i),s=(a(37),a(24)),o=a(25),c=a(30),m=a(26),d=a(31),u=a(3),p=a.n(u),h=(a(38),a(39),a(69)),g=a(70),E=a(71),f=a(72),b=a(73),y=a(74),v=a(75),w=a(79),x=a(76),k=a(77),M=a(78),N=a(27),C=a.n(N),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={bigChartData:"data1",language:"english",text_style:1,music:0,scenePlaytime:0,fullPlaytime:0,isDisablePlay:!1,showPreviewModal:!1,isLoadingApi:!1,text_display:n.a.createElement("div",null),scenes:[],audios:["https://storage.googleapis.com/lumen5-prod-audio/gothic-30z1OCWHSO4wee111gPGbe.mp3","https://storage.googleapis.com/lumen5-prod-audio/holly-in-the-snowfkRwixHOarpzLAwFBzLc.mp3","https://storage.googleapis.com/lumen5-prod-audio/home-at-last-is-she-thereM1kcjgrdLu2mk3e2ED3s.mp3","https://storage.googleapis.com/lumen5-prod-audio/bnm-0715-rubber-trees-fullB5W821PYiWsd.mp3","https://storage.googleapis.com/lumen5-prod-audio/netherworld30GyArwSSgBpNeoDx8RH6.mp3"]},a.setBgChartData=function(e){a.setState({bigChartData:e})},a.onApiCall=function(){var e=a.refs.title_article.value,t=a.refs.text_article.value,l=a.refs.url_article.value,n=a.refs.limit_article.value;if(""!==t||""!==l){var i=""!==t;a.setState({isLoadingApi:!0}),C.a.post("http://nlp-publicl-70s5kwz40vc9-228536418.ap-southeast-1.elb.amazonaws.com/api/nlp",{title:e,text:i?t:l,isText:i,language:i?a.state.language:"english",limit:n}).then(function(e){return console.log(e.data),e.data.sentences}).then(function(e){console.log(e);var l=e.map(a.doSerialize),n=t.replace("mr.","mr").replace("Mr.","Mr").replace("mrs.","mrs").replace("Mrs.","Mrs").replace("ms.","ms").replace("Ms.","Ms").replace("dr.","dr").replace("Dr.","Dr").replace("jr.","jr").replace("Jr.","Jr").split("english"===a.state.language?".":"\u3002").filter(function(e){return 0!==e.length}),i=e.map(function(e){return e.sentence.trim()}),r=[];n.forEach(function(e,t,l){r.push(a.formatPhrase(e,i.includes(e.trim()),t))}),a.setState({isLoadingApi:!1,scenes:l,text_display:r})}).catch(function(e){console.error(e)})}},a.toMMSS=function(e){var t=parseInt(e,10),a=Math.floor(t/60),l=t-60*a;return a<10&&(a="0"+a),l<10&&(l="0"+l),a+":"+l},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"App",style:{margin:"16px"}},n.a.createElement("div",{style:{left:0,width:"40%",height:"100%",position:"fixed",zIndex:1,top:0,overflowX:"hidden",padding:"16px",boxShadow:"0 0 0 0 black, 0 0 10px 0 black",backgroundColor:"rgba(255,255,255,0.03)"}},n.a.createElement(h.a,null,n.a.createElement(g.a,{style:{textAlign:"justify"}},n.a.createElement("span",{style:{color:"white"}},this.state.text_display))),n.a.createElement(E.a,null,n.a.createElement("input",{ref:"title_article",type:"text",className:"form-control",placeholder:"Paste title here"}),n.a.createElement(h.a,null,n.a.createElement(g.a,{style:{textAlign:"justify"}},n.a.createElement("span",{style:{color:"white"}},n.a.createElement("textarea",{ref:"text_article",rows:"50",cols:"60",placeholder:"Paste article text here",className:"form-control"})))),"or",n.a.createElement("br",null),n.a.createElement("input",{ref:"url_article",type:"text",className:"form-control",placeholder:"Paste article url here (eg. http://www.article.com)"}),n.a.createElement("br",null),n.a.createElement("input",{ref:"limit_article",type:"number",className:"form-control",defaultValue:"3",placeholder:"Limit no."})),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(E.a,null,n.a.createElement(f.a,null,"Music:"),n.a.createElement(b.a,{type:"select",name:"select",id:"music_selection"},n.a.createElement("option",{value:"0"},"Music 1"),n.a.createElement("option",{value:"1"},"Music 2"),n.a.createElement("option",{value:"2"},"Music 3"),n.a.createElement("option",{value:"3"},"Music 4"),n.a.createElement("option",{value:"4"},"Music 5"))),n.a.createElement("br",null),n.a.createElement(y.a,{onClick:this.onApiCall,color:"primary",className:"animation-on-hover",disabled:this.state.isLoadingApi},this.state.isLoadingApi?"Loading...":"Submit"),n.a.createElement("br",null),n.a.createElement("div",{style:{bottom:"0px"}},n.a.createElement(v.a,{className:"btn-group-toggle float-right","data-toggle":"buttons"},n.a.createElement(y.a,{tag:"label",color:"info",id:"0",size:"sm",className:p()("btn-simple",{active:"data1"===this.state.bigChartData}),onClick:function(){return e.setBgChartData("data1")}},n.a.createElement("input",{defaultChecked:!0,className:"d-none",name:"options",type:"radio"}),n.a.createElement("span",{className:"d-none d-sm-block d-md-block d-lg-block d-xl-block"},"English"),n.a.createElement("span",{className:"d-block d-sm-none"},n.a.createElement("i",{className:"tim-icons icon-single-02"}))),n.a.createElement(y.a,{color:"info",id:"1",size:"sm",tag:"label",className:p()("btn-simple",{active:"data2"===this.state.bigChartData}),onClick:function(){return e.setBgChartData("data2")}},n.a.createElement("input",{className:"d-none",name:"options",type:"radio"}),n.a.createElement("span",{className:"d-none d-sm-block d-md-block d-lg-block d-xl-block"},"Chinese"),n.a.createElement("span",{className:"d-block d-sm-none"},n.a.createElement("i",{className:"tim-icons icon-gift-2"}))))),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null)),n.a.createElement("div",{style:{right:0,width:"60%",height:"100%",position:"fixed",zIndex:1,top:0,overflowX:"hidden",margin:"16px",textAlign:"center"}},n.a.createElement(y.a,{color:"primary",onClick:this.togglePreviewModal},"Preview"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",null),n.a.createElement("br",null)," ",n.a.createElement("br",null)),n.a.createElement("div",{style:{backgroundColor:"rgba(0,0,0,0.7)",top:0,left:0,height:"100%",width:"100%",position:"absolute",zIndex:1,overflow:"hidden",textAlign:"center",display:this.state.showPreviewModal||this.state.isLoadingApi?"block":"none"}}),n.a.createElement(w.a,{isOpen:this.state.showPreviewModal,style:{overflow:"hidden",textAlign:"center"},size:"lg"},n.a.createElement(x.a,{className:"justify-content-center"},"Preview"),n.a.createElement(k.a,{className:"justify-content-center"},n.a.createElement("p",{style:{textAlign:"right"}},"(",this.toMMSS(this.state.scenePlaytime),")"),n.a.createElement("canvas",{id:"c",ref:"c",width:756,height:425.25,style:{backgroundColor:"#dfdfdf"}}),n.a.createElement("p",{style:{textAlign:"right"}},this.toMMSS(this.state.fullPlaytime)+"/"+this.toMMSS(this.state.scenes.reduce(function(e,t){return e+(t.duration||0)},0))),n.a.createElement("br",null),n.a.createElement("video",{id:"v",ref:"v",style:{visibility:"hidden",position:"absolute",backgroundColor:"#dfdfdf"},controls:!0,loop:!0}),n.a.createElement("img",{id:"img",ref:"img",style:{visibility:"hidden",position:"absolute"},alt:""}),n.a.createElement("audio",{id:"m",ref:"m"})),n.a.createElement(M.a,{className:"justify-content-center"},n.a.createElement(y.a,{ref:"play_btn",onClick:this.playAllScened,color:"primary",className:"btn-icon animation-on-hover",disabled:this.state.isDisablePlay},n.a.createElement("i",{className:"tim-icons icon-triangle-right-17"})))),n.a.createElement(w.a,{isOpen:this.state.isLoadingApi,size:"sm"},n.a.createElement(k.a,{className:"justify-content-center"},n.a.createElement("p",null,"loading..."))))}}]),t}(l.Component);var S=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(A,null))};r.a.render(n.a.createElement(S,null),document.querySelector("#root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.495c58e2.chunk.js.map